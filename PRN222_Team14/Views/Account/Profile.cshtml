@model UserProfileViewModel

@{
    ViewData["Title"] = "Thông tin tài khoản";
}
<style>
    body {
     background: rgb(255, 223, 86);
}

.form-control:focus {
    box-shadow: none;
    border-color: #BA68C8
}

.profile-button {
    background: rgb(99, 39, 120);
    box-shadow: none;
    border: none
}

.profile-button:hover {
    background: #682773
}

.profile-button:focus {
    background: #682773;
    box-shadow: none
}

.profile-button:active {
    background: #682773;
    box-shadow: none
}

.back:hover {
    color: #682773;
    cursor: pointer
}

.labels {
    font-size: 11px
}

.add-experience:hover {
    background: #BA68C8;
    color: #fff;
    cursor: pointer;
    border: solid 1px #BA68C8
}
</style>
<script>
    https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css
</script>
<!-- Nút trở về trang chủ -->
<div class="container mt-3">
    <a href="@Url.Action("Index", "Home")" class="btn back-home-btn">
        <i class="fas fa-home"></i> Trở về trang chủ
    </a>
</div>
<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-md-3 border-right">
            <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                <img class="rounded-circle mt-5" width="150px" 
                     src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg">
                <span class="font-weight-bold">@Model.UserName</span>
                <span class="text-black-50">@Model.UserEmail</span>
            </div>
        </div>
        <div class="col-md-5 border-right">
            <form asp-action="UpdateProfile" method="post">
                <input type="hidden" asp-for="UserId" />

                <div class="p-3 py-5">
                    @if (TempData["SuccessMessage"] != null)
                    {
                            <div class="alert alert-success">
                            @TempData["SuccessMessage"]
                            </div>
                    }
                    @if (TempData["ErrorMessage"] != null)
                    {
                            <div class="alert alert-danger">
                            @TempData["ErrorMessage"]
                            </div>
                    }

                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="text-right">Thông tin tài khoản</h4>
                    </div>

                    <div class="row mt-2">
                        <div class="col-md-12">
                            <label class="labels">Tên người dùng</label>
                            <input asp-for="UserName" type="text" class="form-control" placeholder="Nhập tên người dùng">
                            <span asp-validation-for="UserName" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-12">
                            <label class="labels">Email</label>
                            <input asp-for="UserEmail" type="email" class="form-control" placeholder="Nhập email">
                            <span asp-validation-for="UserEmail" class="text-danger"></span>
                        </div>

                        <div class="col-md-12">
                            <label class="labels">Số điện thoại</label>
                            <input asp-for="PhoneNumber" type="text" class="form-control" placeholder="Nhập số điện thoại">
                            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                        </div>

                        <div class="col-md-12">
                            <label class="labels">Địa chỉ</label>
                            <input asp-for="Address" type="text" class="form-control" placeholder="Nhập địa chỉ">
                            <span asp-validation-for="Address" class="text-danger"></span>
                        </div>

                       <div class="col-md-12">
    <label class="labels">Ngày sinh</label>
    <input asp-for="DateOfBirth" type="date" class="form-control" 
           max="@DateTime.Now.ToString("yyyy-MM-dd")"> @* Thêm max attribute để giới hạn ở client-side *@
    <span asp-validation-for="DateOfBirth" class="text-danger"></span>
</div>
                    </div>

                    <div class="mt-5 text-center">
                        <button class="btn btn-primary profile-button" type="submit">Lưu thông tin</button>
                        <a asp-action="ChangePassword" class="btn btn-secondary">Đổi mật khẩu</a>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-4">
            <div class="p-3 py-5">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="text-right">Đổi mật khẩu</h4>
                </div>
                <form asp-action="ChangePassword" method="post">
                    <div class="col-md-12">
                        <label class="labels">Mật khẩu hiện tại</label>
                        <input type="password" name="CurrentPassword" class="form-control" placeholder="Nhập mật khẩu hiện tại">
                    </div>
                    <div class="col-md-12">
                        <label class="labels">Mật khẩu mới</label>
                        <input type="password" name="NewPassword" class="form-control" placeholder="Nhập mật khẩu mới">
                    </div>
                    <div class="col-md-12">
                        <label class="labels">Xác nhận mật khẩu mới</label>
                        <input type="password" name="ConfirmPassword" class="form-control" placeholder="Xác nhận mật khẩu mới">
                    </div>
                    <div class="mt-3 text-center">
                        <button class="btn btn-primary" type="submit">Đổi mật khẩu</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
